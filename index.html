<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Mariana</title>
    
    <!-- Librer√≠as React y Animaciones -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Fuentes Elegantes -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=Quicksand:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body { 
            margin: 0; 
            overflow: hidden; 
            background: #fdf2f8; /* Rosa muy p√°lido */
        }
        .font-hand { font-family: 'Dancing Script', cursive; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .font-sans { font-family: 'Quicksand', sans-serif; }

        /* Efecto Brillante para el papel dorado */
        .foil-texture {
            background: linear-gradient(135deg, #d4af37 0%, #f3e5ab 25%, #c5a028 50%, #f3e5ab 75%, #d4af37 100%);
            background-size: 200% 200%;
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        /* Chocolate 3D CSS */
        .chocolate-bar {
            background: #5D4037;
            box-shadow: inset 0 0 20px #3E2723, 5px 5px 15px rgba(0,0,0,0.2);
        }
        
        .chocolate-piece {
            background: linear-gradient(145deg, #6D4C41, #4E342E);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3), inset 1px 1px 2px rgba(255,255,255,0.1);
            border-radius: 4px;
        }

        /* Part√≠culas flotantes */
        .floating-heart {
            position: absolute;
            animation: floatUp 8s ease-in-out infinite;
            opacity: 0.6;
        }

        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-100px) scale(1.2); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- DATA DE CONTENIDO ---
        const verses = [
            {
                title: "El Fundamento",
                text: "Como el hierro se afila con hierro, as√≠ un amigo se afila el rostro de su amigo.",
                ref: "Proverbios 27:17 (NTV)",
                subText: "Te digo que sus pecados‚Äîque son muchos‚Äîhan sido perdonados, por eso ella me demostr√≥ tanto amor; pero una persona a quien se le perdona poco demuestra poco amor.",
                subRef: "Lucas 7:46-47"
            },
            {
                title: "Lo Esencial",
                text: "Hay tres cosas que son permanentes: la confianza en Dios, la seguridad de que √©l cumplir√° sus promesas, y el amor. De estas tres cosas, la m√°s importante es el amor.",
                ref: "1 Corintios 13:13"
            },
            {
                title: "La Realidad",
                text: "Porque todos los que dependen de las obras de la ley est√°n bajo maldici√≥n... El justo por la fe vivir√°.",
                ref: "G√°latas 3:10-11",
                subText: "Ni palabras deshonestas, ni necedades, ni truhaner√≠as, que no convienen, sino antes bien acciones de gracias.",
                subRef: "Efesios 5:4"
            },
            {
                title: "Ojo con el Mundo",
                text: "Las cosas que ofrece la gente del mundo no vienen de Dios... los malos deseos, la ambici√≥n de tener todo lo que vemos, y el orgullo.",
                ref: "1 Juan 2:16"
            },
            {
                title: "Sus Pensamientos",
                text: "Porque mis pensamientos no son vuestros pensamientos... Como son m√°s altos los cielos que la tierra, as√≠ son mis caminos m√°s altos que vuestros caminos.",
                ref: "Isa√≠as 55:8-9"
            },
            {
                title: "Su Amor de Padre",
                text: "Pues si vosotros, siendo malos, sab√©is dar buenas d√°divas a vuestros hijos, ¬øcu√°nto m√°s vuestro Padre que est√° en los cielos dar√° buenas cosas a los que le pidan?",
                ref: "Mateo 7:9-11"
            }
        ];

        // --- COMPONENTE DE AUDIO (SPOTIFY) ---
        function AudioPlayer() {
            return (
                <div className="mb-6 w-full max-w-xs mx-auto transform hover:scale-105 transition-transform duration-300">
                    <p className="text-[10px] text-rose-400 mb-2 font-sans text-center animate-pulse">Dale play para ambientar ‚ô´</p>
                    <iframe 
                        style={{borderRadius:'12px'}} 
                        src="https://open.spotify.com/embed/track/5QTDAdFuqiXxXBMM5Mg3S8?utm_source=generator" 
                        width="100%" 
                        height="80" 
                        frameBorder="0" 
                        allowFullScreen="" 
                        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
                        loading="lazy"
                        className="shadow-md"
                    ></iframe>
                </div>
            );
        }

        // --- COMPONENTE PRINCIPAL ---
        function App() {
            const [stage, setStage] = useState('intro'); // intro, opening, reading, terms, end
            const [slideIndex, setSlideIndex] = useState(0);
            const [accepted, setAccepted] = useState(false);

            // Generar corazones de fondo
            const renderHearts = () => {
                return Array.from({ length: 15 }).map((_, i) => (
                    <div key={i} className="floating-heart text-pink-300" style={{
                        left: `${Math.random() * 100}vw`,
                        fontSize: `${Math.random() * 20 + 10}px`,
                        animationDelay: `${Math.random() * 5}s`,
                        animationDuration: `${Math.random() * 5 + 5}s`
                    }}>‚ù§</div>
                ));
            };

            const handleOpen = () => {
                setStage('opening');
                setTimeout(() => {
                    setStage('reading');
                }, 2500); 
            };

            const nextSlide = () => {
                if (slideIndex < verses.length - 1) {
                    setSlideIndex(slideIndex + 1);
                } else {
                    setStage('terms');
                }
            };

            return (
                <div className="w-full h-screen bg-gradient-to-br from-pink-50 via-rose-100 to-pink-200 flex items-center justify-center relative overflow-hidden">
                    {renderHearts()}
                    
                    <AnimatePresence mode="wait">
                        
                        {/* 1. INTRODUCCI√ìN Y CHOCOLATE CERRADO */}
                        {stage === 'intro' && (
                            <motion.div 
                                key="intro"
                                initial={{ opacity: 0, y: 50 }}
                                animate={{ opacity: 1, y: 0 }}
                                exit={{ opacity: 0, scale: 1.5 }}
                                className="z-10 text-center max-w-md p-6 h-full flex flex-col justify-center"
                            >
                                <h1 className="font-hand text-5xl text-rose-600 mb-2 drop-shadow-sm">
                                    Para: Mi hermana Mariana
                                </h1>

                                <AudioPlayer />

                                <div className="bg-white/60 backdrop-blur-sm p-4 rounded-2xl shadow-xl mb-6 border border-white">
                                    <p className="font-serif text-base text-rose-900 leading-relaxed italic mb-3">
                                        "T√∫ eres hija de Dios, eres su tesoro y todos los d√≠as el Padre nos lo recuerda con el m√°s peque√±o detalle, pero a veces no entendemos o no escuchamos bien su voz por tanto af√°n..."
                                    </p>
                                    <p className="font-sans text-xs text-rose-700 font-bold border-t border-rose-200 pt-3">
                                        Eclesiast√©s 5:3 <br/>
                                        <span className="font-normal">"Pues de la mucha preocupaci√≥n viene el so√±ar; y de las muchas palabras, el dicho del necio."</span>
                                    </p>
                                </div>

                                {/* EL CHOCOLATE ENVUELTO */}
                                <div className="relative w-64 h-36 mx-auto cursor-pointer group" onClick={handleOpen}>
                                    <motion.div 
                                        whileHover={{ scale: 1.05, rotate: 1 }}
                                        className="w-full h-full foil-texture rounded-lg shadow-2xl flex items-center justify-center border-b-4 border-r-4 border-yellow-700/30 relative overflow-hidden px-4"
                                    >
                                        <div className="absolute inset-0 bg-white/20 skew-x-12 -ml-20"></div>
                                        
                                        {/* ETIQUETA */}
                                        <div className="bg-rose-600 text-white p-3 font-serif text-center rounded shadow-lg transform -rotate-2 border border-rose-400 w-full">
                                            <p className="text-[10px] leading-tight font-sans tracking-wide uppercase text-rose-200 mb-1">Instrucciones:</p>
                                            <p className="text-sm italic leading-snug">
                                                "√Åbrelo y come, te sabr√° amargo en el paladar pero dulce como la miel cuando lo tragues"
                                            </p>
                                        </div>
                                    </motion.div>
                                </div>
                            </motion.div>
                        )}

                        {/* 2. ANIMACI√ìN DE APERTURA */}
                        {stage === 'opening' && (
                            <motion.div key="opening" className="relative z-10">
                                <motion.div 
                                    initial={{ clipPath: "inset(0 0 0 0)" }}
                                    animate={{ clipPath: "inset(0 0 100% 0)" }}
                                    transition={{ duration: 1.5, ease: "easeInOut" }}
                                    className="absolute inset-0 foil-texture z-20 rounded-lg"
                                ></motion.div>

                                <div className="w-80 h-96 chocolate-bar rounded-lg grid grid-cols-2 gap-2 p-2 shadow-2xl relative">
                                    <motion.div 
                                        initial={{ opacity: 0, scale: 0 }}
                                        animate={{ opacity: [0, 1, 0], scale: 1.5 }}
                                        transition={{ duration: 1 }}
                                        className="absolute inset-0 bg-white z-30 rounded-lg blur-xl"
                                    />
                                    {[1,2,3,4,5,6].map(i => (
                                        <div key={i} className="chocolate-piece flex items-center justify-center">
                                            <span className="text-stone-400/20 font-serif text-2xl">‚úù</span>
                                        </div>
                                    ))}
                                </div>
                            </motion.div>
                        )}

                        {/* 3. LECTURA DE VERS√çCULOS */}
                        {stage === 'reading' && (
                            <motion.div 
                                key="reading"
                                initial={{ opacity: 0, scale: 0.8 }}
                                animate={{ opacity: 1, scale: 1 }}
                                className="z-10 w-full max-w-lg px-4"
                            >
                                <div className="bg-white/80 backdrop-blur-md rounded-3xl shadow-[0_20px_50px_rgba(244,63,94,0.3)] border border-white p-8 relative overflow-hidden">
                                    <div className="absolute -top-10 -right-10 w-32 h-32 bg-rose-200 rounded-full blur-2xl opacity-50"></div>
                                    
                                    <motion.div
                                        key={slideIndex}
                                        initial={{ x: 50, opacity: 0 }}
                                        animate={{ x: 0, opacity: 1 }}
                                        exit={{ x: -50, opacity: 0 }}
                                        transition={{ duration: 0.5 }}
                                    >
                                        <h2 className="font-hand text-4xl text-rose-500 mb-6 text-center">
                                            {verses[slideIndex].title}
                                        </h2>
                                        
                                        <div className="space-y-6 text-center">
                                            <div>
                                                <p className="font-serif text-xl text-stone-700 italic leading-relaxed">
                                                    "{verses[slideIndex].text}"
                                                </p>
                                                <p className="font-sans text-xs font-bold text-rose-400 mt-2 uppercase tracking-widest">
                                                    {verses[slideIndex].ref}
                                                </p>
                                            </div>
                                            
                                            {verses[slideIndex].subText && (
                                                <div className="border-t border-rose-100 pt-4">
                                                    <p className="font-serif text-lg text-stone-600 italic leading-relaxed">
                                                        "{verses[slideIndex].subText}"
                                                    </p>
                                                    <p className="font-sans text-xs font-bold text-rose-400 mt-2 uppercase tracking-widest">
                                                        {verses[slideIndex].subRef}
                                                    </p>
                                                </div>
                                            )}
                                        </div>
                                    </motion.div>

                                    <div className="mt-8 flex justify-center">
                                        <button 
                                            onClick={nextSlide}
                                            className="bg-rose-500 hover:bg-rose-600 text-white font-sans px-8 py-3 rounded-full shadow-lg hover:shadow-rose-300/50 transition-all transform hover:-translate-y-1"
                                        >
                                            {slideIndex === verses.length - 1 ? "Continuar" : "Siguiente Trozo"}
                                        </button>
                                    </div>
                                    
                                    <div className="absolute bottom-0 left-0 h-1 bg-rose-100 w-full">
                                        <div 
                                            className="h-full bg-rose-500 transition-all duration-500"
                                            style={{ width: `${((slideIndex + 1) / verses.length) * 100}%` }}
                                        ></div>
                                    </div>
                                </div>
                            </motion.div>
                        )}

                        {/* 4. CONTRATO CON DIOS */}
                        {stage === 'terms' && (
                            <motion.div 
                                key="terms"
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                className="z-10 w-full max-w-md px-4"
                            >
                                <div className="bg-white rounded-xl shadow-2xl overflow-hidden border border-stone-200">
                                    <div className="bg-rose-500 p-4 text-white text-center">
                                        <h3 className="font-sans font-bold text-lg tracking-wide">CONTRATO CON DIOS</h3>
                                    </div>
                                    <div className="p-6 bg-stone-50 text-stone-700 font-sans text-sm leading-relaxed space-y-4">
                                        <p className="font-serif italic text-lg text-rose-800 text-center mb-4">
                                            "Confiar√© en Dios y dejar√© todo en sus manos."
                                        </p>
                                        
                                        <ul className="space-y-3 list-disc pl-5">
                                            <li>No me estresar√© por lo que a√∫n no s√©.</li>
                                            <li>Dejar√© toda preocupaci√≥n en sus manos.</li>
                                            <li>Cargar√© su yugo, que es ligero.</li>
                                        </ul>
                                        
                                        <div className="bg-rose-50 p-3 rounded-lg border border-rose-100 italic text-stone-600 text-xs">
                                            Recordando a Jes√∫s: ¬ª¬øY qui√©n de vosotros podr√°, por mucho que se afane, a√±adir a su estatura un codo?¬ª
                                        </div>

                                        <label className="flex items-center gap-3 mt-6 cursor-pointer group">
                                            <div className={`min-w-[24px] w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${accepted ? 'bg-rose-500 border-rose-500' : 'border-stone-300 bg-white'}`}>
                                                {accepted && <span className="text-white text-sm">‚úî</span>}
                                            </div>
                                            <input type="checkbox" className="hidden" onChange={() => setAccepted(!accepted)} />
                                            <span className="group-hover:text-rose-600 transition-colors leading-tight">
                                                Antes de dormir orar√© a mi Padre para dejar todas las cargas en √âl.
                                            </span>
                                        </label>

                                        <button 
                                            onClick={() => setStage('end')}
                                            disabled={!accepted}
                                            className={`w-full mt-6 py-3 rounded-lg font-bold transition-all ${accepted ? 'bg-rose-600 text-white shadow-lg hover:bg-rose-700' : 'bg-stone-200 text-stone-400 cursor-not-allowed'}`}
                                        >
                                            AM√âN
                                        </button>
                                    </div>
                                </div>
                            </motion.div>
                        )}

                        {/* 5. FINAL */}
                        {stage === 'end' && (
                            <motion.div 
                                key="end"
                                initial={{ scale: 0.5, opacity: 0 }}
                                animate={{ scale: 1, opacity: 1 }}
                                className="z-10 text-center max-w-lg px-4"
                            >
                                <div className="text-6xl mb-4">üôå</div>
                                <h1 className="font-hand text-6xl text-rose-600 mb-4">¬°Bendiciones!</h1>
                                <p className="font-sans text-rose-800 font-medium leading-relaxed">
                                    Mariana, tal vez una chocolatina f√≠sica no, pero Dios da cosas mejores y sus promesas siempre las cumple, pide y recibir√°s, recuerda, misericordia quiero y no sacrificios.
                                </p>
                                <button 
                                    onClick={() => window.location.reload()}
                                    className="mt-8 text-xs text-rose-400 underline hover:text-rose-600"
                                >
                                    Volver al inicio
                                </button>
                            </motion.div>
                        )}

                    </AnimatePresence>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
